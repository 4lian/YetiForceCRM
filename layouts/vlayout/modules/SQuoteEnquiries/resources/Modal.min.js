
jQuery.Class("SQuoteEnquiries_Modal_Js",{},{registerChangeStatus:function(){var a=this;jQuery("#sQuoteEnquiriesModal button:not(.dismiss)").on("click",function(c){var b=jQuery(c.currentTarget);b.closest(".modal").addClass("hide");a.updateStatus(b)})},updateStatus:function(c){var a=this;var d={module:"SQuoteEnquiries",action:"UpdateStatus",id:c.data("id"),state:c.data("state")};app.hideModalWindow();var b=jQuery.progressIndicator({position:"html",blockInfo:{enabled:true}});AppConnector.request(d).then(function(j){if(j.success){var k=app.getViewName();if(k==="Detail"){var i=jQuery(".summaryView");var h=Vtiger_Detail_Js.getInstance();if(app.getModuleName()=="SQuoteEnquiries"){var f=h.getSelectedTab();if(f.data("linkKey")==h.detailViewSummaryTabLabel||f.data("linkKey")==h.detailViewDetailsTabLabel){f.trigger("click")}}}if(k=="List"){var g=new Vtiger_List_Js();g.getListViewRecords()}if(k=="DashBoard"){var e=new Vtiger_DashBoard_Js();e.getContainer().find('a[name="drefresh"]').trigger("click")}b.progressIndicator({mode:"hide"})}else{return false}})},registerEvents:function(){this.registerChangeStatus()}});jQuery(document).ready(function(b){var a=new SQuoteEnquiries_Modal_Js();a.registerEvents()});